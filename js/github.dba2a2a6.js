(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["github"],{"998a":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"login-page main-body container"},[n("a",{staticClass:"button is-light is-large is-fullwidth",attrs:{href:t.href}},[n("b-icon",{attrs:{icon:"github-circle"}}),n("span",[t._v("通过 Github 登录")])],1)])},i=[],r=(n("a481"),n("96cf"),n("3040")),s=(n("cadf"),n("551c"),n("097d"),n("c24f")),c={data:function(){return{href:"https://blog.leungjz.top/github/auth?redirect=".concat(encodeURIComponent(window.location.href)),haha:""}},mounted:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.$route.query.access_token,!e||"undefined"===e){t.next=15;break}return this.$store.dispatch("app/setLoading",!0),t.next=5,this.$axios.get("https://api.github.com/user?access_token=".concat(e)).catch(function(){return null});case 5:if(n=t.sent,!n){t.next=13;break}return t.next=9,Object(s["b"])(n);case 9:a=Object(s["c"])(),a?(i=window.$cookie.get("redirect"),this.$toast.open({message:"你好，"+a.get("username"),type:"is-success"}),i?window.location.href=i:this.$router.replace("/")):this.$router.replace({name:"github"}),t.next=14;break;case 13:this.$router.replace({name:"github"});case 14:this.$store.dispatch("app/setLoading",!1);case 15:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},o=c,u=n("2877"),h=Object(u["a"])(o,a,i,!1,null,null,null);h.options.__file="github.vue";e["default"]=h.exports}}]);
//# sourceMappingURL=github.dba2a2a6.js.map